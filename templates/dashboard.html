{% extends 'layout.html' %}

{% block content %}
<h1>Welcome, {{ name }}</h1>
<p><strong>Email:</strong> {{ email }}</p>
<p><strong>Phone:</strong> {{ phone }}</p>
<p><strong>Address:</strong> {{ address }}</p>

<!-- Tab menu -->
<div class="tabs">
    <button class="tab-button" onclick="openTab('section1')">Listings</button>
    <button class="tab-button" onclick="openTab('section2')">Bookings</button>
    <button class="tab-button" onclick="openTab('section3')">Discounts</button>
</div>

<!-- Section 1 -->
<div id="section1" class="tab-content">
    <h2>Listings</h2>
    
    <!-- container for the listings action buttons -->
    <div class="query-container">
        <h3>Database Actions</h3>
        <button class="query-button" onclick="location.href='{{ url_for('query1') }}'">
            <i class="fas fa-database"></i> Show the 5 most expensive listings
        </button>
        <button class="query-button" onclick="location.href='{{ url_for('query2') }}'">
            <i class="fas fa-search"></i> Show the 5 cheapest listings
        </button>
        <button class="query-button" onclick="location.href='{{ url_for('query3') }}'">
            <i class="fas fa-sync-alt"></i> Show all the listings
        </button>
    </div>
</div>

<!-- Section 2 -->
<div id="section2" class="tab-content" style="display:none;">
    <h2>Bookings</h2>
    
    <!-- container for the bookings action buttons -->
    <div class="query-container">
        <h3>Database Actions</h3>
        <button class="query-button" onclick="location.href='{{ url_for('query4') }}'">
            <i class="fas fa-database"></i> Confirmed bookings
        </button>
        <button class="query-button" onclick="location.href='{{ url_for('query5') }}'">
            <i class="fas fa-search"></i> Pending bookings
        </button>
        <button class="query-button" onclick="location.href='{{ url_for('query6') }}'">
            <i class="fas fa-sync-alt"></i> Cancelled bookings
        </button>
    </div>
</div>

<!-- Section 3 -->
<div id="section3" class="tab-content" style="display:none;">
    <h2>Discounts</h2>
    
    <!-- container for the discounts actions buttons -->
    <div class="query-container">
        <h3>Database Actions</h3>
        <button class="query-button" onclick="location.href='{{ url_for('query7') }}'">
            <i class="fas fa-database"></i> Highest discounts
        </button>
        <button class="query-button" onclick="location.href='{{ url_for('query8') }}'">
            <i class="fas fa-search"></i> Lowest discounts
        </button>
        <button class="query-button" onclick="location.href='{{ url_for('query9') }}'">
            <i class="fas fa-sync-alt"></i> All discounts
        </button>
    </div>
</div>

<a href="{{ url_for('logout') }}">Logout</a>

<script>
function openTab(tabName) {
    var i, tabcontent;
    tabcontent = document.getElementsByClassName("tab-content");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    document.getElementById(tabName).style.display = "block";
}
</script>
{% endblock %}
